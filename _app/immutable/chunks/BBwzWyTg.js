import{b as ve,e as Le,t as b,a as g,c as q}from"./CFuzDKZG.js";import{i as N,A as ee,z as _e,g as S,ah as Ne,H as Se,B as oe,C as X,D as j,J as U,Q as He,F as pe,G as re,I as Me,W as we,y as qe,ak as Be,p as fe,at as $,w as ue,au as te,av as de,aw as Oe,V as Pe,ax as Ue,ay as ye,az as se,aA as Ye,O as be,M as Ae,Y as ze,aB as ke,a6 as We,aC as Ve,R as Fe,P as Ge,l as T,m as C,a1 as Z,Z as ne,s as z,_ as le,a0 as B,f as ce,t as me,ar as ge,aD as Je}from"./DMbZFwqQ.js";import{i as x,p as Qe}from"./CFF3KUtX.js";import{o as Xe}from"./BVXAcKra.js";import{s as D,h as Ze}from"./DsZfnUb5.js";import{s as ae}from"./C2IfmXro.js";import{b as Y}from"./CiyKl84K.js";import"./YO9hDPOy.js";function Ee(r,e){return e}function Ke(r,e,a,s){for(var v=[],o=e.length,n=0;n<o;n++)Oe(e[n].e,v,!0);var d=o>0&&v.length===0&&a!==null;if(d){var i=a.parentNode;Pe(i),i.append(a),s.clear(),M(r,e[0].prev,e[o-1].next)}Ue(v,()=>{for(var h=0;h<o;h++){var m=e[h];d||(s.delete(m.k),M(r,m.prev,m.next)),ye(m.e,!d)}})}function Te(r,e,a,s,v,o=null){var n=r,d={items:new Map,first:null},i=(e&ke)!==0;if(i){var h=r;n=N?X(Ae(h)):h.appendChild(ze())}N&&ee();var m=null,A=!1,f=Ne(()=>{var l=a();return qe(l)?l:l==null?[]:we(l)});_e(()=>{var l=S(f),t=l.length;if(A&&t===0)return;A=t===0;let k=!1;if(N){var w=n.data===Se;w!==(t===0)&&(n=oe(),X(n),j(!1),k=!0)}if(N){for(var y=null,p,_=0;_<t;_++){if(U.nodeType===8&&U.data===He){n=U,k=!0,j(!1);break}var u=l[_],c=s(u,_);p=Ce(U,d,y,null,u,c,_,v,e,a),d.items.set(c,p),y=p}t>0&&X(oe())}N||je(l,d,n,v,e,s,a),o!==null&&(t===0?m?pe(m):m=re(()=>o(n)):m!==null&&Me(m,()=>{m=null})),k&&j(!0),S(f)}),N&&(n=U)}function je(r,e,a,s,v,o,n){var G,J,Q,L;var d=(v&Ve)!==0,i=(v&(se|te))!==0,h=r.length,m=e.items,A=e.first,f=A,l,t=null,k,w=[],y=[],p,_,u,c;if(d)for(c=0;c<h;c+=1)p=r[c],_=o(p,c),u=m.get(_),u!==void 0&&((G=u.a)==null||G.measure(),(k??(k=new Set)).add(u));for(c=0;c<h;c+=1){if(p=r[c],_=o(p,c),u=m.get(_),u===void 0){var K=f?f.e.nodes_start:a;t=Ce(K,e,t,t===null?e.first:t.next,p,_,c,s,v,n),m.set(_,t),w=[],y=[],f=t.next;continue}if(i&&$e(u,p,c,v),u.e.f&$&&(pe(u.e),d&&((J=u.a)==null||J.unfix(),(k??(k=new Set)).delete(u))),u!==f){if(l!==void 0&&l.has(u)){if(w.length<y.length){var I=y[0],E;t=I.prev;var F=w[0],W=w[w.length-1];for(E=0;E<w.length;E+=1)he(w[E],I,a);for(E=0;E<y.length;E+=1)l.delete(y[E]);M(e,F.prev,W.next),M(e,t,F),M(e,W,I),f=I,t=W,c-=1,w=[],y=[]}else l.delete(u),he(u,f,a),M(e,u.prev,u.next),M(e,u,t===null?e.first:t.next),M(e,t,u),t=u;continue}for(w=[],y=[];f!==null&&f.k!==_;)f.e.f&$||(l??(l=new Set)).add(f),y.push(f),f=f.next;if(f===null)continue;u=f}w.push(u),t=u,f=u.next}if(f!==null||l!==void 0){for(var O=l===void 0?[]:we(l);f!==null;)f.e.f&$||O.push(f),f=f.next;var R=O.length;if(R>0){var P=v&ke&&h===0?a:null;if(d){for(c=0;c<R;c+=1)(Q=O[c].a)==null||Q.measure();for(c=0;c<R;c+=1)(L=O[c].a)==null||L.fix()}Ke(e,O,P,m)}}d&&We(()=>{var H;if(k!==void 0)for(u of k)(H=u.a)==null||H.apply()}),ue.first=e.first&&e.first.e,ue.last=t&&t.e}function $e(r,e,a,s){s&se&&de(r.v,e),s&te?de(r.i,a):r.i=a}function Ce(r,e,a,s,v,o,n,d,i,h){var m=(i&se)!==0,A=(i&Ye)===0,f=m?A?Be(v):fe(v):v,l=i&te?fe(n):n,t={i:l,v:f,k:o,a:null,e:null,prev:a,next:s};try{return t.e=re(()=>d(r,f,l,h),N),t.e.prev=a&&a.e,t.e.next=s&&s.e,a===null?e.first=t:(a.next=t,a.e.next=t.e),s!==null&&(s.prev=t,s.e.prev=t.e),t}finally{}}function he(r,e,a){for(var s=r.next?r.next.e.nodes_start:a,v=e?e.e.nodes_start:a,o=r.e.nodes_start;o!==s;){var n=be(o);v.before(o),o=n}}function M(r,e,a){e===null?r.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function Ie(r,e,a,s,v){var o=r,n="",d;_e(()=>{if(n===(n=e()??"")){N&&ee();return}d!==void 0&&(ye(d),d=void 0),n!==""&&(d=re(()=>{if(N){U.data;for(var i=ee(),h=i;i!==null&&(i.nodeType!==8||i.data!=="");)h=i,i=be(i);if(i===null)throw Fe(),Ge;ve(U,h),o=X(i);return}var m=n+"",A=Le(m);ve(Ae(A),A.lastChild),o.before(A)}))})}var ea=b('<img loading="lazy" decoding="auto" class="svelte-tt8n0y">'),aa=b('<div class="img svelte-tt8n0y"><!></div>');function ra(r,e){var a=aa(),s=T(a);{var v=o=>{var n=ea();Z(()=>{D(n,"src",e.src),D(n,"alt",e.alt)}),Ze(n),g(o,n)};x(s,o=>{e.src&&o(v)})}C(a),g(r,a)}function ta(r){const e=new Date(r),a={year:"numeric",month:"long",day:"numeric"};return e.toLocaleDateString("en-US",a)}function sa(r,e){let a="";if(e==="wp"?a="https://www.washingtonpost.com/people/":e==="nyt"?a="https://www.nytimes.com/by/":e==="reuters"?a="https://www.reuters.com/authors/":console.warn(`Unknown media type: ${e}`),!r||r.length===0)return"Unknown";const s=n=>{if(!n||!n.slug)return'<span class="author">Unknown</span>';const d=n.slug.startsWith("/")?n.slug.slice(1):n.slug;return`<a class="author" href="${a}${d}" aria-label="Link to author profile" target="_blank" rel="noopener noreferrer">${n.name||"Unknown"}</a>`};if(r.length===1)return s(r[0]);if(r.length===2)return`${s(r[0])} and ${s(r[1])}`;const v=r.slice(0,-1).map(s).join(", "),o=s(r[r.length-1]);return`${v} and ${o}`}var na=b('<img class="nyt medium svelte-1s0oy70" alt="NYT">'),la=b('<img class="wp medium svelte-1s0oy70" alt="WP">'),ia=b('<img class="reuters medium svelte-1s0oy70" alt="Reuters">'),va=b('<img class="bloomberg medium svelte-1s0oy70" alt="Bloomberg">'),oa=b('<img class="scmp medium svelte-1s0oy70" alt="South China Morning Post">'),fa=b('<img class="thepudding medium svelte-1s0oy70" alt="The Pudding">'),ua=b('<p class="authors svelte-1s0oy70">By <!></p>'),da=b('<div class="article-data"><a aria-label="Link to article" target="_blank" rel="noopener noreferrer"><p class="date svelte-1s0oy70"> </p> <h3 class="headline svelte-1s0oy70"><!> </h3></a> <!></div>');function ca(r,e){ne(e,!0);var a=da(),s=T(a),v=T(s),o=T(v,!0);C(v);var n=z(v,2),d=T(n);{var i=l=>{var t=na();D(t,"src",`${Y??""}/logos/nyt.svg`),g(l,t)},h=l=>{var t=q(),k=B(t);{var w=p=>{var _=la();D(_,"src",`${Y??""}/logos/wp.svg`),g(p,_)},y=p=>{var _=q(),u=B(_);{var c=I=>{var E=ia();D(E,"src",`${Y??""}/logos/reuters.svg`),g(I,E)},K=I=>{var E=q(),F=B(E);{var W=R=>{var P=va();D(P,"src",`${Y??""}/logos/bloomberg.svg`),g(R,P)},O=R=>{var P=q(),G=B(P);{var J=L=>{var H=oa();D(H,"src",`${Y??""}/logos/scmp.svg`),g(L,H)},Q=L=>{var H=q(),Re=B(H);{var xe=V=>{var ie=fa();D(ie,"src",`${Y??""}/logos/thepudding.svg`),g(V,ie)},De=V=>{};x(Re,V=>{e.data.medium==="Pudding"?V(xe):V(De,!1)},!0)}g(L,H)};x(G,L=>{e.data.medium==="SCMP"?L(J):L(Q,!1)},!0)}g(R,P)};x(F,R=>{e.data.medium==="Bloomberg"?R(W):R(O,!1)},!0)}g(I,E)};x(u,I=>{e.data.medium==="Reuters"?I(c):I(K,!1)},!0)}g(p,_)};x(k,p=>{e.data.medium==="WP"?p(w):p(y,!1)},!0)}g(l,t)};x(d,l=>{e.data.medium==="NYT"?l(i):l(h,!1)})}var m=z(d);C(n),C(s);var A=z(s,2);{var f=l=>{var t=ua(),k=z(T(t));Ie(k,()=>sa(e.data.credits,e.media)),C(t),g(l,t)};x(A,l=>{e.data.credits&&e.data.credits.length>0&&l(f)})}C(a),Z(l=>{D(s,"href",e.data.url),ae(o,l),ae(m,` ${e.data.headline??""}`)},[()=>ta(e.data.date)]),g(r,a),le()}var ma=b('<div class="content svelte-142aa19"><a aria-label="Link to article" target="_blank" rel="noopener noreferrer"><!></a> <!></div>');function ga(r,e){ne(e,!0);var a=ma(),s=T(a),v=T(s);const o=ce(()=>{var i;return(i=e.data)==null?void 0:i.img}),n=ce(()=>{var i;return(i=e.data)==null?void 0:i.description});ra(v,{get src(){return S(o)},get alt(){return S(n)}}),C(s);var d=z(s,2);ca(d,{get data(){return e.data},get media(){return e.media}}),C(a),Z(()=>D(s,"href",e.data.url)),g(r,a),le()}var ha=b('<div class="content svelte-6ulcf6"><a class="svelte-6ulcf6"></a> <div class="article-data svelte-6ulcf6"><h1 class="h1-ske svelte-6ulcf6"></h1> <p class="description svelte-6ulcf6"></p> <p class="date svelte-6ulcf6"></p> <p class="authors svelte-6ulcf6"></p></div></div>');function _a(r){var a=q(),s=B(a);Te(s,1,()=>Array.from({length:15},(v,o)=>o),Ee,(v,o)=>{var n=ha();g(v,n)}),g(r,a)}var pa=b("<p>No articles available</p>"),wa=b('<section class="svelte-1jqt6dc"><!></section>');function xa(r,e){ne(e,!0);let a=ge(void 0),s=ge(!0);Xe(async()=>{try{me(a,Qe(await fetch(e.url).then(i=>i.json())))}catch(i){console.error("Failed to fetch articles:",i)}finally{me(s,!1)}});var v=wa(),o=T(v);{var n=i=>{_a(i)},d=i=>{var h=q(),m=B(h);{var A=l=>{var t=q(),k=B(t);Te(k,17,()=>S(a),Ee,(w,y)=>{ga(w,{get data(){return S(y)},get media(){return e.media}})}),g(l,t)},f=l=>{var t=pa();g(l,t)};x(m,l=>{S(a)&&S(a).length>0?l(A):l(f,!1)},!0)}g(i,h)};x(o,i=>{S(s)?i(n):i(d,!1)})}C(v),g(r,v),le()}var ya=b('<header class="svelte-5q9hea"><h1 class="svelte-5q9hea"> </h1> <p class="description svelte-5q9hea"><!></p> <p class="repo svelte-5q9hea"><a href="https://github.com/iguacel/graphics-feed" target="_blank" rel="noopener noreferrer" class="svelte-5q9hea">gh repo<svg class="octocat medium svelte-5q9hea" viewBox="0 0 98 96" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z"></path></svg></a></p></header>');function Da(r,e){var a=ya(),s=T(a),v=T(s,!0);C(s);var o=z(s,2),n=T(o);Ie(n,()=>e.siteDescription),C(o),Je(2),C(a),Z(()=>ae(v,e.siteTitle)),g(r,a)}export{Da as H,xa as L};
