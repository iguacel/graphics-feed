import{t as y,a as l,c as U}from"../chunks/D0VAbhYM.js";import"../chunks/hK0pJGIT.js";import{Z as z,a9 as c,a0 as b,a1 as N,_ as R,t as p,l as w,m as x,s as S,g as e,f as Z}from"../chunks/FnN41Udg.js";import{s as B}from"../chunks/C7gQ2j-U.js";import{p as f,i as I}from"../chunks/IkT6QuQK.js";import{f as C,S as E,e as G,i as K,H as L}from"../chunks/BZDN0ZQ1.js";import{o as O}from"../chunks/CcqxktDM.js";import{A as P}from"../chunks/DUBsEw-g.js";var Q=y("<p>No hay art√≠culos disponibles.</p>"),V=y('<p class="lastUpdate svelte-12g2hxn"> </p> <br> <section class="svelte-12g2hxn"><!></section>',1);function W(h,r){z(r,!0);let i=c(f([])),d=c(""),D=c(!0),v=c("");function k(t,o){return t.slice(0,10)===o.slice(0,10)}O(async()=>{try{const t=await fetch(r.url),{articles:o,lastUpdated:m}=await t.json();p(d,f(m)),p(v,f(C(m)));const g=new Date(m).getTime(),_=1e3*60*60*24*30;p(i,f(o.filter(a=>{const s=new Date(a.timestamp).getTime();return g-s<=_}).sort((a,s)=>new Date(s.timestamp)-new Date(a.timestamp))))}catch(t){console.error("Failed to fetch articles:",t)}finally{p(D,!1)}});var T=V(),u=b(T),F=w(u,!0);x(u);var A=S(u,4),H=w(A);{var M=t=>{E(t)},j=t=>{var o=U(),m=b(o);{var g=a=>{var s=U(),q=b(s);G(q,17,()=>e(i),K,(J,n)=>{const Y=Z(()=>({id:0,isToday:k(e(n).timestamp,e(d))?"highlight":"",headline:e(n).headline,url:e(n).url,date:e(n).timestamp,credits:[],description:"",square_img:"",img:e(n).image,media:e(n).publication}));P(J,{get data(){return e(Y)},get media(){return r.media}})}),l(a,s)},_=a=>{var s=Q();l(a,s)};I(m,a=>{e(i).length>0?a(g):a(_,!1)},!0)}l(t,o)};I(H,t=>{e(D)?t(M):t(j,!1)})}x(A),N(()=>B(F,e(v)?e(v):"")),l(h,T),R()}var X=y('<main class="svelte-1q85dzi"><!> <!></main>');function ne(h){var r=X(),i=w(r);L(i,{siteTitle:"Interactive Journalism",siteDescription:"Articles from the <a href='https://github.com/sammorrisdesign/interactive-feed' target='_blank' rel='noopener noreferrer'>Interactive Journalism feed</a> published in the last 30 days."});var d=S(i,2);W(d,{url:"https://raw.githubusercontent.com/sammorrisdesign/interactive-feed/refs/heads/main/data/all.json",media:"ia"}),x(r),l(h,r)}export{ne as component};
