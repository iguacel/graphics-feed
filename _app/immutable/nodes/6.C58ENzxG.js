import{t as g,a as o,c as b}from"../chunks/CrCFE0wT.js";import"../chunks/DTu2euSP.js";import{p as I,n as M,x as v,a9 as h,l as A,g as a,m as T,a1 as w,f as U,s as F}from"../chunks/DRmtHWZe.js";import{i as x,p as y}from"../chunks/BboZN7xR.js";import{S as J,e as Y,i as z,H as N}from"../chunks/C_2Ncw5A.js";import{o as R}from"../chunks/DDjryDEv.js";import{A as B}from"../chunks/DbFcd0mJ.js";var C=g("<p>No articles available</p>"),E=g('<section class="svelte-1jqt6dc"><!></section>');function G(m,s){I(s,!0);let r=h(void 0),c=h(void 0),_=h(!0);R(async()=>{try{const e=await fetch(s.url),{articles:l,lastUpdated:d}=await e.json();v(c,y(d));const p=new Date(d).getTime(),u=1e3*60*60*24*30;v(r,y(l.filter(t=>{const i=new Date(t.timestamp).getTime();return p-i<=u})))}catch(e){console.error("Failed to fetch articles:",e)}finally{v(_,!1)}});var f=E(),D=A(f);{var S=e=>{J(e)},j=e=>{var l=b(),d=w(l);{var p=t=>{var i=b(),k=w(i);Y(k,17,()=>a(r),z,(q,n)=>{const H=U(()=>({id:0,headline:a(n).headline,url:a(n).url,date:a(n).timestamp,credits:[],description:"",square_img:"",img:a(n).image,media:a(n).publication}));B(q,{get data(){return a(H)},get media(){return s.media}})}),o(t,i)},u=t=>{var i=C();o(t,i)};x(d,t=>{a(r)&&a(r).length>0?t(p):t(u,!1)},!0)}o(e,l)};x(D,e=>{a(_)?e(S):e(j,!1)})}T(f),o(m,f),M()}var K=g('<main class="svelte-1q85dzi"><!> <!></main>');function Z(m){var s=K(),r=A(s);N(r,{siteTitle:"Interactive Journalism",siteDescription:"Articles from the <a href='https://github.com/sammorrisdesign/interactive-feed' target='_blank' rel='noopener noreferrer'>Interactive Journalism feed</a> published in the last 30 days."});var c=F(r,2);G(c,{url:"https://raw.githubusercontent.com/sammorrisdesign/interactive-feed/refs/heads/main/data/all.json",media:"ia"}),T(s),o(m,s)}export{Z as component};
